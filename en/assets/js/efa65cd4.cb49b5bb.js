"use strict";(self.webpackChunkweslley_io=self.webpackChunkweslley_io||[]).push([[3171],{6320:function(e){e.exports=JSON.parse('{"title":"Introducing Unit Testing for Beginner Devs","slug":"introduzindo-testes-unitarios-para-devs-iniciantes","date":"2024-06-10","authors":["Weslley Ara\xfajo"],"tags":["Tests","Unit Tests","Node.js"],"content":"\\nIf you\'re a beginner developer (_or not_), I want to show you that testing can be simple and that complexity only comes according to our needs.\\n\\n{/* truncate */}\\n\\nimport { Modal } from \'@Modal\';\\n\\n<hr />\\n\\n## \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93 Introduction to the World of Testing\\n\\nImagine a system where several users had their accounts compromised because they created passwords like \\"`1234`\\" and the system allowed it, even though there was validation for that \u2014 but with no guarantee the function was actually working \ud83e\udd72\\n\\nThis could easily be avoided if there were tests ensuring the password validation function worked as it should whenever a change is made to the system, right? \ud83d\udd10\\n\\nBut when a beginner developer looks for **automated testing**, it can seem (_or even **be**_) complex:\\n\\n- _**Testers**_ may require environment configurations (especially around **ESM** and **TypeScript**)\\n- They can change the behavior of your development environment\\n- They may require you to adapt your code to work with them\\n- And they may demand prior, in-depth knowledge (documentation) just to get started\\n\\n<hr />\\n\\n## \ud83d\udcda Choosing the _Tester_\\n\\nThere are many testers today \u2014 some focused on best practices, others on productivity, performance, and so on.\\n\\nSome of the most popular:\\n\\n<ul>\\n  <li>\\n    <Modal trigger=\\"Jest\\" title={<><img src=\\"/img/jest.svg\\" alt=\\"Jest icon\\" /> Jest</>}>\\n      **Jest** is a JavaScript testing framework maintained by **Meta** (Facebook), focused on providing a **complete and integrated** solution.\\n\\n      It includes built-in features like **automatic mocking**, **code coverage**, and **snapshot testing**, and is especially popular in **React** projects.\\n\\n      Being an all-in-one solution, it can require **complex configurations** for modern projects (especially **ESM** and **TypeScript**), and may have **lower performance** compared to newer alternatives.\\n    </Modal>\\n\\n  </li>\\n  <li>\\n    <Modal trigger=\\"Mocha\\" title=\\"Mocha\\">\\n      **Mocha** is a **minimalist and flexible** test runner for Node.js, focused on **simplicity** and **extensibility**.\\n\\n      Unlike Jest, Mocha doesn\'t include assertion or mocking libraries, letting you choose your own tools (commonly used with **Chai** for assertions and **Sinon** for mocks).\\n\\n      It\'s ideal for those who prefer **full control** over the test environment, but it requires more manual configuration.\\n    </Modal>\\n\\n  </li>\\n  <li>\\n    <Modal trigger=\\"Vitest\\" title=\\"Vitest\\">\\n      **Vitest** is a **modern** test runner developed by the same team behind **Vite**.\\n\\n      It provides a **Jest-compatible** API that eases migration and offers native support for **ESM**, **TypeScript**, and **HMR** (Hot Module Replacement).\\n\\n      Because it\'s coupled with **Vite**, it may not be ideal for all projects \u2014 especially those that don\'t use bundlers or prefer other build tools. It has a **strong frontend focus** (though it works on the backend) and **doesn\'t support CommonJS (CJS)**.\\n    </Modal>\\n\\n  </li>\\n</ul>\\n\\nFor this tutorial, we\'ll use a tester I created ([**Poku**](https://github.com/wellwelwel/poku)) because of its simplicity, but you can use any tester you prefer \ud83d\ude80\\n\\n### \ud83d\udce6 Installing our **_Tester_**\\n\\n```bash\\nnpm i -D poku\\n```\\n\\n<hr />\\n\\n## \ud83e\uddea Why \\"Unit\\"?\\n\\nWhen we develop code, it\'s common to split small tasks into smaller functions and export those functions to be used in multiple places.\\n\\nCreating **unit tests** ensures those _\\"unit functions\\"_ always behave as expected \ud83e\uddd9\ud83c\udffb\\n\\n<hr />\\n\\n## \ud83d\udccb Creating a Simple Project\\n\\nLet\'s build a very simple project where we\'ll only validate a password.\\nOur project needs to check that the provided password:\\n\\n- \u2705 Is a string\\n- \u2705 Has at least eight characters\\n- \u2705 Contains at least one uppercase letter\\n- \u2705 Contains at least one lowercase letter\\n- \u2705 Contains at least one number\\n\\nIf the password is valid, we should return `true`; otherwise, `false`.\\n\\nTo implement this, create the file:\\n\\n- **src/validations.mjs**\\n\\n```ts\\nexport const validatePassword = (password) => {\\n  // Checks if the password is a string\\n  if (typeof password !== \'string\') return false;\\n\\n  // Checks if the password has 8 characters or more\\n  if (password.trim().length < 8) return false;\\n\\n  // Checks if the password has at least one uppercase letter\\n  if (!/[A-Z]/.test(password)) return false;\\n\\n  // Checks if the password has at least one lowercase letter\\n  if (!/[a-z]/.test(password)) return false;\\n\\n  // Checks if the password has at least one number\\n  if (!/[0-9]/.test(password)) return false;\\n\\n  // Returns true if all validations above pass\\n  return true;\\n};\\n```\\n\\n> To keep the example simple, we won\'t go much further than this \ud83e\uddd9\ud83c\udffb\\n\\n- Don\'t use this function in production; it\'s intentionally simple to focus on learning \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93\\n- You can change from **src/validations.mjs** to **src/validations.js** by adding `\\"type\\": \\"module\\"` to your **package.json** \ud83e\uddd9\ud83c\udffb\\n\\n<hr />\\n\\n## \ud83e\uddd1\ud83c\udffb\u200d\ud83d\udd2c Understanding Tests\\n\\nTheoretically, our function already works \u2014 this is usually when people start sprinkling `console.log` calls around, right? **Don\'t do that** \ud83d\ude02\\n\\nLet\'s turn those ad-hoc `console.log`s into automated tests that will run whenever the project changes \ud83d\ude80\\n\\nHow? Using assertions \ud83d\udc47\ud83c\udffb\\n\\n<hr />\\n\\n### \u2611\ufe0f What Are Assertions?\\n\\nIn tests, **assertions** are used to ensure a result is exactly what we expect.\\n\\nEach tester may provide a different API, but the idea is the same:\\n\\n- If our check (assertion) does not match the expectation, the test fails with an error.\\n\\n#### \ud83d\udcdd Example:\\n\\nImagine `1 + 1` should return `2`, but it returned `\\"11\\"`.\\n\\nWhen reaching the assertion that expects `2`, the test will fail and show that it expected `2` (a number) but received `\\"11\\"` (a string):\\n\\n```js\\nimport { assert } from \'poku\';\\n\\nassert.strictEqual(\'1\' + \'1\', 2, \'1+1 should return 2\');\\n```\\n\\n<img\\n  loading=\'lazy\'\\n  width=\'474\'\\n  alt=\'Assertion error\'\\n  src=\'https://github.com/wellwelwel/poku/assets/46850407/f1dc1e18-7f9b-4ccb-880c-b0845464925f\'\\n/>\\n\\n- `actual`:\\n  - _\\"11\\"_ \u2014 the dynamic return (soft code) from our function or variable\\n- `expected`:\\n  - _2_ \u2014 the hard-coded value (hard code) that `actual` should match\\n\\n> Both [**Poku**](https://github.com/wellwelwel/poku) and **Node.js** provide an `assert` API with similar usage \ud83e\uddd9\ud83c\udffb\\n>\\n> Functionally, [**Poku**](https://github.com/wellwelwel/poku) offers a simple and smart way to run multiple files and prints a clear report of passed and failed assertions in the terminal \ud83d\udc37\\n\\n#### \ud83d\udcdd Fixing Our Example:\\n\\n```js\\nimport { assert } from \'poku\';\\n\\nassert.strictEqual(1 + 1, 2, \'1+1 should return 2\');\\n```\\n\\n<img\\n  loading=\'lazy\'\\n  width=\'474\'\\n  alt=\'Successful assertion\'\\n  src=\'https://github.com/wellwelwel/poku/assets/46850407/430a72eb-8d34-45f4-abc7-2f2f92e3dd8e\'\\n/>\\n\\n<hr />\\n\\n## \ud83e\uddea Creating the Tests\\n\\n> Finally \u2014 the fun part \ud83c\udf89\\n\\nWe\'ll be a bit creative and generate:\\n\\n- \u274c Several invalid passwords to simulate both typical users and malicious attempts\\n  - For invalid passwords we expect (`expected`) the result (`actual`) to be `false`.\\n- \u2705 Valid passwords to make sure our function recognizes valid inputs when all criteria are met\\n  - For valid passwords we expect (`expected`) the result (`actual`) to be `true`.\\n- \ud83d\udcdd No extra comments in the test \u2014 we\'ll describe each case directly in the assertion message\\n\\nCreate the test file:\\n\\n- **test/password.test.mjs**\\n\\n```js\\nimport { assert } from \'poku\';\\nimport { validatePassword } from \'../src/validations.mjs\';\\n\\nassert.strictEqual(\\n  validatePassword(),\\n  false,\\n  \'Validates if the password is not provided\'\\n);\\n\\nassert.strictEqual(\\n  validatePassword(12345678),\\n  false,\\n  \'Validates if the password is not a string\'\\n);\\n\\nassert.strictEqual(\\n  validatePassword(\'\'),\\n  false,\\n  \'Validates if the password is an empty string\'\\n);\\n\\nassert.strictEqual(\\n  validatePassword(\'abcd1234\'),\\n  false,\\n  \'Validates if the password does not have at least one uppercase letter\'\\n);\\n\\nassert.strictEqual(\\n  validatePassword(\'1234EFGH\'),\\n  false,\\n  \'Validates if the password does not have at least one lowercase letter\'\\n);\\n\\nassert.strictEqual(\\n  validatePassword(\'abcdEFGH\'),\\n  false,\\n  \'Validates if the password does not have at least one number\'\\n);\\n\\nassert.strictEqual(\\n  validatePassword(\'abcdEF12\'),\\n  true,\\n  \'Validates if the password is valid\'\\n);\\n```\\n\\n- You can switch from **test/password.test.mjs** to **test/password.test.js** by setting `\\"type\\": \\"module\\"` in your **package.json** \ud83e\uddd9\ud83c\udffb\\n\\n<hr />\\n\\n## \ud83d\udd2c Checking If the Tests Passed\\n\\n```bash\\nnpx poku\\n```\\n\\n- When you run `npx poku`, by default the tester will look for files with the `*.test.*` or `*.spec.*` extension in the current directory \ud83e\uddd9\ud83c\udffb\\n\\nAnd finally, the result:\\n\\n<img\\n  loading=\'lazy\'\\n  width=\'522\'\\n  alt=\'Success Example with Poku\'\\n  src=\'https://github.com/wellwelwel/poku/assets/46850407/f06105a3-f956-473f-b456-26c1e27d80db\'\\n/>\\n\\n- The first line shows the directory where [**Poku**](https://github.com/wellwelwel/poku) is searching for tests\\n- The second line shows the file currently being tested\\n  - Inside each test file it lists all assertions that include a message\\n  - When finished (success or failure), it shows the command it ran for that file:\\n    - `node test/password.test.mjs`\\n- When all test files finish, it shows a summary of how many files passed and/or failed\\n- The exit code will be:\\n  - \u2705 `0` for success\\n  - \u274c `1` for failure\\n\\n<hr />\\n\\n## \ud83d\udcad Conclusion\\n\\nWith the **unit tests** we created, we ensure not only that our function behaves as expected, but also that we can anticipate how our project reacts in unusual situations before they occur \ud83d\udd10\\n\\n> I hope I\'ve shown that **tests** can indeed be **simple** \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93\\n\\n<hr />\\n\\n- This was my first \\"lesson\\" in blog format. Feedback is always welcome \ud83e\ude75\\n- Many terms are explained multiple times by choice for didactic purposes \u2014 let me know if it felt repetitive \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93\\n\\n:::info\\nThis article was initially posted on [TabNews](https://www.tabnews.com.br/wellwelwel/tutorial-introduzindo-testes-unitarios-para-devs-iniciantes-js).\\n:::\\n","filePath":"article.mdx","mdxPath":"/home/runner/work/weslley.io/weslley.io/i18n/en/articles/2024/01/article.mdx","summary":[{"text":"\ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93 Introduction to the World of Testing","level":2,"items":[]},{"text":"\ud83d\udcda Choosing the _Tester_","level":2,"items":[{"text":"\ud83d\udce6 Installing our **_Tester_**","level":3,"items":[]}]},{"text":"\ud83e\uddea Why \\"Unit\\"?","level":2,"items":[]},{"text":"\ud83d\udccb Creating a Simple Project","level":2,"items":[]},{"text":"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udd2c Understanding Tests","level":2,"items":[{"text":"\u2611\ufe0f What Are Assertions?","level":3,"items":[{"text":"\ud83d\udcdd Example:","level":4,"items":[]},{"text":"\ud83d\udcdd Fixing Our Example:","level":4,"items":[]}]}]},{"text":"\ud83e\uddea Creating the Tests","level":2,"items":[]},{"text":"\ud83d\udd2c Checking If the Tests Passed","level":2,"items":[]},{"text":"\ud83d\udcad Conclusion","level":2,"items":[]}],"description":"If you\'re a beginner developer (_or not_), I want to show you that testing can be simple and that complexity only comes according to our needs.","social":"./banner.png","socialPath":"/home/runner/work/weslley.io/weslley.io/i18n/en/articles/2024/01/banner.png","readingTime":6,"lastModified":"2025-12-20T20:53:35.000Z","authorsData":[{"name":"Weslley Ara\xfajo","title":"Active open-source contributor, Microsoft MVP, MySQL2\'s maintainer and Poku\'s creator \u2728","url":"https://weslley.io/en/","image_url":"/img/avatar.png","socials":{"linkedin":"wellwelwel","github":"wellwelwel","instagram":"wellwelwel","youtube":"weslleyio"}}],"nextArticle":{"title":"Preventing malicious emails from being sent through your domain","slug":"prevenindo-o-envio-de-emails-maliciosos-atraves-do-seu-dominio","description":"Did you know that malicious people could be using your domain to send spoof emails?","social":"/home/runner/work/weslley.io/weslley.io/i18n/en/articles/2024/02/banner.png"},"route":"articles"}')}}]);