/*! For license information please see 42f33154.daa8f9a1.js.LICENSE.txt */
"use strict";(self.webpackChunkweslley_io=self.webpackChunkweslley_io||[]).push([[967],{3628:function(e,s,n){n.r(s),n.d(s,{contentTitle:function(){return f},default:function(){return b},frontMatter:function(){return g},toc:function(){return v}});var o=n(4848),r=n(8453),a=n(6540),i=n(4586);const d=(0,n(4722).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l="trigger_k7Gt",t="icon_Yg3C",c="overlay_pEKJ",u="modal_EAUz",m="header_APUb",h="title_oHWw",p="close_eUaZ",x="content_uNDV",j=function(e){var s=e.trigger,n=e.title,r=e.children,j=(0,a.useState)(!1),g=j[0],f=j[1],v=(0,i.A)().i18n,q=(0,a.useCallback)(function(){return f(!0)},[]),b=(0,a.useCallback)(function(){return f(!1)},[]),w=v.currentLocale,k={clickToSeeMore:"en"===w?"Click to see more":"Clique para ver mais",closeModal:"en"===w?"Close modal":"Fechar modal"};return(0,a.useEffect)(function(){if(g){var e=function(e){"Escape"===e.key&&b()};return document.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){document.removeEventListener("keydown",e),document.body.style.overflow=""}}},[g,b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{type:"button",onClick:q,className:l,"aria-haspopup":"dialog","aria-expanded":g,title:k.clickToSeeMore,children:[s,(0,o.jsx)("span",{className:t,"aria-hidden":"true",children:(0,o.jsx)(d,{})})]}),g&&(0,o.jsx)("div",{className:c,onClick:b,role:"presentation","aria-hidden":"true",children:(0,o.jsxs)("div",{className:u,onClick:function(e){return e.stopPropagation()},role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,children:[(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("h2",{id:"modal-title",className:h,children:null!=n?n:s}),(0,o.jsx)("button",{type:"button",onClick:b,className:p,"aria-label":k.closeModal,children:"\u2715"})]}),(0,o.jsx)("div",{className:x,children:r})]})})]})};const g={title:"Introduzindo Testes Unit\xe1rios para Devs Iniciantes",slug:"introduzindo-testes-unitarios-para-devs-iniciantes",date:new Date("2024-06-10T00:00:00.000Z"),authors:["Weslley Ara\xfajo"],tags:["Testes","Testes Unit\xe1rios","Node.js"],social:"./banner.png"},f=void 0,v=[{value:"\ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93 Introdu\xe7\xe3o ao Mundo dos Testes",id:"-introdu\xe7\xe3o-ao-mundo-dos-testes",level:2},{value:"\ud83d\udcda Escolhendo o <em>Tester</em>",id:"-escolhendo-o-tester",level:2},{value:"\ud83d\udce6 Instalando nosso <strong><em>Tester</em></strong>",id:"-instalando-nosso-tester",level:3},{value:"\ud83e\uddea Por que &quot;Unit\xe1rios&quot;?",id:"-por-que-unit\xe1rios",level:2},{value:"\ud83d\udccb Criando um Projeto Simples",id:"-criando-um-projeto-simples",level:2},{value:"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udd2c Entendendo os Testes",id:"-entendendo-os-testes",level:2},{value:"\u2611\ufe0f O que s\xe3o Asser\xe7\xf5es?",id:"\ufe0f-o-que-s\xe3o-asser\xe7\xf5es",level:3},{value:"\ud83d\udcdd Exemplo:",id:"-exemplo",level:4},{value:"\ud83d\udcdd Corrigindo nosso exemplo:",id:"-corrigindo-nosso-exemplo",level:4},{value:"\ud83e\uddea Criando os Testes",id:"-criando-os-testes",level:2},{value:"\ud83d\udd2c Verificando se os Testes Passaram",id:"-verificando-se-os-testes-passaram",level:2},{value:"\ud83d\udcad Conclus\xe3o",id:"-conclus\xe3o",level:2}];function q(e){const s={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.p,{children:["Se voc\xea \xe9 um desenvolvedor iniciante (",(0,o.jsx)(s.em,{children:"ou n\xe3o"}),"), eu quero te mostrar que testes podem sim ser simples e que a complexidade s\xf3 vem conforme nossa pr\xf3pria necessidade, n\xe3o do ",(0,o.jsx)(s.em,{children:"tester"}),"."]}),"\n","\n","\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-introdu\xe7\xe3o-ao-mundo-dos-testes",children:"\ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93 Introdu\xe7\xe3o ao Mundo dos Testes"}),"\n",(0,o.jsxs)(s.p,{children:['Imagine um sistema onde v\xe1rios usu\xe1rios tiveram a conta invadida porque criaram senhas como "',(0,o.jsx)(s.code,{children:"1234"}),'" e o sistema permitia, mesmo tendo uma valida\xe7\xe3o para isso, mas sem garantia nenhuma que essa fun\xe7\xe3o estava realmente funcionando \ud83e\udd72']}),"\n",(0,o.jsx)(s.p,{children:"Isso facilmente seria evitado se existissem testes garantindo que a fun\xe7\xe3o que valida a senha funcionasse como deveria sempre que uma modifica\xe7\xe3o \xe9 feita no sistema, concorda? \ud83d\udd10"}),"\n",(0,o.jsxs)(s.p,{children:["Mas quando um dev iniciante procura por ",(0,o.jsx)(s.strong,{children:"testes automatizados"}),", isso pode parecer (",(0,o.jsxs)(s.em,{children:["ou at\xe9 ",(0,o.jsx)(s.strong,{children:"ser"})]}),") complexo:"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Os ",(0,o.jsx)(s.em,{children:(0,o.jsx)(s.strong,{children:"testers"})})," podem exigir configura\xe7\xf5es de ambiente (especialmente quando se trata de ",(0,o.jsx)(s.strong,{children:"ESM"})," e ",(0,o.jsx)(s.strong,{children:"TypeScript"}),")"]}),"\n",(0,o.jsx)(s.li,{children:"Podem mudar o comportamento do ambiente de desenvolvimento"}),"\n",(0,o.jsx)(s.li,{children:"Podem exigir que voc\xea adapte seu c\xf3digo para funcionar com eles"}),"\n",(0,o.jsx)(s.li,{children:"E at\xe9 que voc\xea tenha um conhecimento previamente aprofundado sobre eles (documenta\xe7\xe3o) para simplesmente iniciar"}),"\n"]}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsxs)(s.h2,{id:"-escolhendo-o-tester",children:["\ud83d\udcda Escolhendo o ",(0,o.jsx)(s.em,{children:"Tester"})]}),"\n",(0,o.jsx)(s.p,{children:"Atualmente, existem muitos testers, alguns focados em boas pr\xe1ticas, outros focados na produtividade, performance e por a\xed vai."}),"\n",(0,o.jsx)(s.p,{children:"Alguns dos mais populares:"}),"\n",(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsxs)(j,{trigger:"Jest",title:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.img,{src:"/img/jest.svg",alt:"Jest icon"})," Jest"]}),children:[(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Jest"})," \xe9 um framework de testes JavaScript mantido pelo ",(0,o.jsx)(s.strong,{children:"Meta"})," (Facebook), com foco em oferecer uma solu\xe7\xe3o ",(0,o.jsx)(s.strong,{children:"completa e integrada"}),"."]}),(0,o.jsxs)(s.p,{children:["Possui recursos integrados como ",(0,o.jsx)(s.strong,{children:"mocking autom\xe1tico"}),", ",(0,o.jsx)(s.strong,{children:"cobertura de c\xf3digo"})," e ",(0,o.jsx)(s.strong,{children:"snapshot testing"}),", sendo especialmente popular em projetos ",(0,o.jsx)(s.strong,{children:"React"}),"."]}),(0,o.jsxs)(s.p,{children:["Por ser uma solu\xe7\xe3o all-in-one, pode exigir ",(0,o.jsx)(s.strong,{children:"configura\xe7\xf5es complexas"})," para projetos modernos (especialmente ",(0,o.jsx)(s.strong,{children:"ESM"})," e ",(0,o.jsx)(s.strong,{children:"TypeScript"}),"), al\xe9m de ter ",(0,o.jsx)(s.strong,{children:"performance inferior"})," comparado a alternativas mais modernas."]})]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(j,{trigger:"Mocha",title:"Mocha",children:[(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Mocha"})," \xe9 um test runner ",(0,o.jsx)(s.strong,{children:"minimalista e flex\xedvel"})," para Node.js, focado em ",(0,o.jsx)(s.strong,{children:"simplicidade"})," e ",(0,o.jsx)(s.strong,{children:"extensibilidade"}),"."]}),(0,o.jsxs)(s.p,{children:["Diferente do Jest, o Mocha n\xe3o inclui biblioteca de asser\xe7\xf5es ou mocking, permitindo que voc\xea escolha suas pr\xf3prias ferramentas (geralmente usado com ",(0,o.jsx)(s.strong,{children:"Chai"})," para asser\xe7\xf5es e ",(0,o.jsx)(s.strong,{children:"Sinon"})," para mocks)."]}),(0,o.jsxs)(s.p,{children:["\xc9 ideal para quem prefere ",(0,o.jsx)(s.strong,{children:"controle total"})," sobre o ambiente de testes, mas exige mais configura\xe7\xe3o manual."]})]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(j,{trigger:"Vitest",title:"Vitest",children:[(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Vitest"})," \xe9 um test runner ",(0,o.jsx)(s.strong,{children:"moderno"}),", desenvolvido pela mesma equipe do ",(0,o.jsx)(s.strong,{children:"Vite"}),"."]}),(0,o.jsxs)(s.p,{children:["Possui API ",(0,o.jsx)(s.strong,{children:"compat\xedvel com Jest"}),", facilitando migra\xe7\xe3o, e oferece suporte nativo para ",(0,o.jsx)(s.strong,{children:"ESM"}),", ",(0,o.jsx)(s.strong,{children:"TypeScript"})," e ",(0,o.jsx)(s.strong,{children:"HMR"})," (Hot Module Replacement)."]}),(0,o.jsxs)(s.p,{children:["Por estar acoplado ao ",(0,o.jsx)(s.strong,{children:"Vite"}),", pode n\xe3o ser ideal para todos os projetos, especialmente aqueles que n\xe3o usam bundlers ou preferem outras ferramentas de build, tendo ",(0,o.jsx)(s.strong,{children:"foco maior em frontend"})," (embora funcione em backend), e ",(0,o.jsx)(s.strong,{children:"n\xe3o oferece suporte para CommonJS (CJS)"}),"."]})]})})]}),"\n",(0,o.jsxs)(s.p,{children:["Para esse tutorial, vamos usar um ",(0,o.jsx)(s.em,{children:"tester"})," que eu criei (",(0,o.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,o.jsx)(s.strong,{children:"Poku"})}),"), devido sua simplicidade, mas voc\xea pode usar qualquer um \ud83d\ude80"]}),"\n",(0,o.jsxs)(s.h3,{id:"-instalando-nosso-tester",children:["\ud83d\udce6 Instalando nosso ",(0,o.jsx)(s.strong,{children:(0,o.jsx)(s.em,{children:"Tester"})})]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npm i -D poku\n"})}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-por-que-unit\xe1rios",children:'\ud83e\uddea Por que "Unit\xe1rios"?'}),"\n",(0,o.jsx)(s.p,{children:"Ao desenvolvermos nossos c\xf3digos, \xe9 comum dividirmos tarefas pequenas em fun\xe7\xf5es menores, ent\xe3o exportamos essas fun\xe7\xf5es para us\xe1-las em v\xe1rios lugares no nosso c\xf3digo, certo?"}),"\n",(0,o.jsxs)(s.p,{children:["Criar os ",(0,o.jsx)(s.strong,{children:"testes unit\xe1rios"})," garante que essas ",(0,o.jsx)(s.em,{children:'"fun\xe7\xf5es unit\xe1rias"'})," sempre funcionem como esperado \ud83e\uddd9\ud83c\udffb"]}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-criando-um-projeto-simples",children:"\ud83d\udccb Criando um Projeto Simples"}),"\n",(0,o.jsx)(s.p,{children:"Vamos elaborar um projeto bem simples, onde iremos apenas validar uma senha.\nNosso projeto precisa validar se a senha passada:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"\u2705 \xc9 uma string"}),"\n",(0,o.jsx)(s.li,{children:"\u2705 Possui ao menos oito caract\xe9res"}),"\n",(0,o.jsx)(s.li,{children:"\u2705 Possui ao menos uma letra mai\xfascula"}),"\n",(0,o.jsx)(s.li,{children:"\u2705 Possui ao menos uma letra min\xfascula"}),"\n",(0,o.jsx)(s.li,{children:"\u2705 Possui ao menos um n\xfamero"}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:["Se a senha for v\xe1lida, devemos retornar ",(0,o.jsx)(s.code,{children:"true"}),", caso contr\xe1rio, ",(0,o.jsx)(s.code,{children:"false"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"Para isso, iremos criar o arquivo:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"src/validations.mjs"})}),"\n"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-ts",children:"export const validatePassword = (password) => {\n  // Verifica se a senha \xe9 uma string\n  if (typeof password !== 'string') return false;\n\n  // Verifica se a senha possui 8 caract\xe9res ou mais\n  if (password.trim().length < 8) return false;\n\n  // Verifica se a senha possui ao menos uma letra mai\xfascula\n  if (!/[A-Z]/.test(password)) return false;\n\n  // Verifica se a senha possui ao menos uma letra min\xfascula\n  if (!/[a-z]/.test(password)) return false;\n\n  // Verifica se a senha possui ao menos um n\xfamero\n  if (!/[0-9]/.test(password)) return false;\n\n  // Retorna verdadeiro se todas as valida\xe7\xf5es acima passarem\n  return true;\n};\n"})}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsx)(s.p,{children:"Visando manter o exemplo simples, n\xe3o vamos ir muito al\xe9m disso \ud83e\uddd9\ud83c\udffb"}),"\n"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"N\xe3o use essa fun\xe7\xe3o para c\xf3digos reais, o intuito \xe9 ser simples para focar no apredizado \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93"}),"\n",(0,o.jsxs)(s.li,{children:["Voc\xea pode trocar de ",(0,o.jsx)(s.strong,{children:"src/validations.mjs"})," para ",(0,o.jsx)(s.strong,{children:"src/validations.js"})," usando o ",(0,o.jsx)(s.code,{children:'"type": "module"'})," no seu arquivo ",(0,o.jsx)(s.strong,{children:"package.json"})," \ud83e\uddd9\ud83c\udffb"]}),"\n"]}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-entendendo-os-testes",children:"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udd2c Entendendo os Testes"}),"\n",(0,o.jsxs)(s.p,{children:["Teoricamente, nossa fun\xe7\xe3o do projeto j\xe1 funciona, esse \xe9 o momento que a gente come\xe7a fazer v\xe1rios ",(0,o.jsx)(s.code,{children:"console.log"}),", certo? ",(0,o.jsx)(s.strong,{children:"Nada disso"})," \ud83d\ude02"]}),"\n",(0,o.jsxs)(s.p,{children:["Vamos tornar o que seriam esses ",(0,o.jsx)(s.em,{children:'"console logs"'}),", em testes automatizados que sempre ser\xe3o executados quando o projeto passar por uma altera\xe7\xe3o \ud83d\ude80"]}),"\n",(0,o.jsx)(s.p,{children:"Como? Usando asser\xe7\xf5es \ud83d\udc47\ud83c\udffb"}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h3,{id:"\ufe0f-o-que-s\xe3o-asser\xe7\xf5es",children:"\u2611\ufe0f O que s\xe3o Asser\xe7\xf5es?"}),"\n",(0,o.jsxs)(s.p,{children:["Nos testes, ",(0,o.jsx)(s.strong,{children:"asser\xe7\xf5es"})," s\xe3o usadas para garantir que um resultado \xe9 realmente o que a gente espera."]}),"\n",(0,o.jsxs)(s.p,{children:["Cada ",(0,o.jsx)(s.em,{children:"tester"})," pode ter uma forma diferente de fazer isso, mas o final costuma ser o mesmo:"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Se nossa verifica\xe7\xe3o (asser\xe7\xe3o) n\xe3o for exatamente como o esperado, o teste ir\xe1 disparar um erro nessa asser\xe7\xe3o."}),"\n"]}),"\n",(0,o.jsx)(s.h4,{id:"-exemplo",children:"\ud83d\udcdd Exemplo:"}),"\n",(0,o.jsxs)(s.p,{children:["Imagine que ",(0,o.jsx)(s.code,{children:"1 + 1"})," precisa retornar ",(0,o.jsx)(s.code,{children:"2"}),", mas retornou ",(0,o.jsx)(s.code,{children:'"11"'}),"."]}),"\n",(0,o.jsxs)(s.p,{children:["Quando chegar na asser\xe7\xe3o que espera o resultado ",(0,o.jsx)(s.code,{children:"2"}),", ela ir\xe1 disparar um erro no teste dizendo que esperava ",(0,o.jsx)(s.code,{children:"2"})," (n\xfamero), mas recebeu ",(0,o.jsx)(s.code,{children:'"11"'})," (",(0,o.jsx)(s.em,{children:"string"}),"):"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-js",children:"import { assert } from 'poku';\n\nassert.strictEqual('1' + '1', 2, '1+1 deve retornar 2');\n"})}),"\n",(0,o.jsx)("img",{loading:"lazy",width:"474",alt:"Erro de asser\xe7\xe3o",src:"https://github.com/wellwelwel/poku/assets/46850407/f1dc1e18-7f9b-4ccb-880c-b0845464925f"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"actual"}),":","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.em,{children:'"11"'})," \u2014 \xc9 o retorno din\xe2mico (",(0,o.jsx)(s.em,{children:"soft code"}),") da nossa fun\xe7\xe3o ou vari\xe1vel"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"expected"}),":","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.em,{children:"2"})," \u2014 \xe9 o valor bruto (",(0,o.jsx)(s.em,{children:"hard code"}),") que deve ser retornado pelo ",(0,o.jsx)(s.code,{children:"actual"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsxs)(s.p,{children:["Tanto o ",(0,o.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,o.jsx)(s.strong,{children:"Poku"})})," como o pr\xf3prio ",(0,o.jsx)(s.strong,{children:"Node.js"})," possuem o m\xe9todo ",(0,o.jsx)(s.code,{children:"assert"})," com a forma de uso exatamente iguais \ud83e\uddd9\ud83c\udffb"]}),"\n",(0,o.jsxs)(s.p,{children:["Quanto ao funcionamento, o ",(0,o.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,o.jsx)(s.strong,{children:"Poku"})})," oferece uma forma simples e inteligente de executar m\xfaltiplos arquivos e descreve todas as asser\xe7\xf5es que passaram ou n\xe3o no terminal \ud83d\udc37"]}),"\n"]}),"\n",(0,o.jsx)(s.h4,{id:"-corrigindo-nosso-exemplo",children:"\ud83d\udcdd Corrigindo nosso exemplo:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-js",children:"import { assert } from 'poku';\n\nassert.strictEqual(1 + 1, 2, '1+1 deve retornar 2');\n"})}),"\n",(0,o.jsx)("img",{loading:"lazy",width:"474",alt:"Asser\xe7\xe3o com sucesso",src:"https://github.com/wellwelwel/poku/assets/46850407/430a72eb-8d34-45f4-abc7-2f2f92e3dd8e"}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-criando-os-testes",children:"\ud83e\uddea Criando os Testes"}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsx)(s.p,{children:"Finalmente a parte boa \ud83c\udf89"}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Para isso, vamos usar a criatividade e gerar:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\u274c V\xe1rias senhas inv\xe1lidas para simular o comportamento tanto de usu\xe1rios usuais, como de usu\xe1rios mal intencionados","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Nas senhas inv\xe1lidas, n\xf3s esperamos (",(0,o.jsx)(s.code,{children:"expected"}),") que o resultado (",(0,o.jsx)(s.code,{children:"actual"}),") seja ",(0,o.jsx)(s.code,{children:"false"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\u2705 Senhas v\xe1lidas para garantir que nossa fun\xe7\xe3o entende que a senha deve ser v\xe1lida quando passar por todos os crit\xe9rios","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Nas senhas v\xe1lidas, n\xf3s esperamos (",(0,o.jsx)(s.code,{children:"expected"}),") que o resultado (",(0,o.jsx)(s.code,{children:"actual"}),") seja ",(0,o.jsx)(s.code,{children:"true"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\ud83d\udcdd Nada de coment\xe1rios no teste, vamos descrever o que \xe9 cada um na pr\xf3pria asser\xe7\xe3o (",(0,o.jsx)(s.code,{children:"message"}),")"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Vamos criar nosso arquivo de teste:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"test/password.test.mjs"})}),"\n"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-js",children:"import { assert } from 'poku';\nimport { validatePassword } from '../src/validations.mjs';\n\nassert.strictEqual(\n  validatePassword(),\n  false,\n  'Valida se a senha n\xe3o for passada'\n);\n\nassert.strictEqual(\n  validatePassword(12345678),\n  false,\n  'Valida se a senha n\xe3o for uma string'\n);\n\nassert.strictEqual(\n  validatePassword(''),\n  false,\n  'Valida se a senha for uma string vazia'\n);\n\nassert.strictEqual(\n  validatePassword('abcd1234'),\n  false,\n  'Valida se a senha n\xe3o possuir ao menos uma letra mai\xfascula'\n);\n\nassert.strictEqual(\n  validatePassword('1234EFGH'),\n  false,\n  'Valida se a senha n\xe3o possuir ao menos uma letra min\xfascula'\n);\n\nassert.strictEqual(\n  validatePassword('abcdEFGH'),\n  false,\n  'Valida se a senha n\xe3o possuir ao menos um n\xfamero'\n);\n\nassert.strictEqual(\n  validatePassword('abcdEF12'),\n  true,\n  'Valida se a senha for v\xe1lida'\n);\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Voc\xea pode trocar de ",(0,o.jsx)(s.strong,{children:"test/password.test.mjs"})," para ",(0,o.jsx)(s.strong,{children:"test/password.test.js"})," usando o ",(0,o.jsx)(s.code,{children:'"type": "module"'})," no seu arquivo ",(0,o.jsx)(s.strong,{children:"package.json"})," \ud83e\uddd9\ud83c\udffb"]}),"\n"]}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-verificando-se-os-testes-passaram",children:"\ud83d\udd2c Verificando se os Testes Passaram"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"npx poku\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Ao executar o comando ",(0,o.jsx)(s.code,{children:"npx poku"}),", por padr\xe3o, o ",(0,o.jsx)(s.em,{children:"tester"})," ir\xe1 procurar por todos os arquivos com a exten\xe7\xe3o ",(0,o.jsx)(s.code,{children:"*.test.*"})," ou ",(0,o.jsx)(s.code,{children:"*.spec.*"})," no diret\xf3rio em que o comando foi executado \ud83e\uddd9\ud83c\udffb"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"E finalmente, nosso resultado:"}),"\n",(0,o.jsx)("img",{loading:"lazy",width:"522",alt:"Exemplo de Sucesso com o Poku",src:"https://github.com/wellwelwel/poku/assets/46850407/f06105a3-f956-473f-b456-26c1e27d80db"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["A primeira sa\xedda mostra em qual diret\xf3rio o ",(0,o.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,o.jsx)(s.strong,{children:"Poku"})})," est\xe1 procurando por testes"]}),"\n",(0,o.jsxs)(s.li,{children:["A segunda sa\xedda mostra o arquivo que est\xe1 sendo testado no momento","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Dentro de cada arquivo de teste, ele ir\xe1 mostrar todas as asser\xe7\xf5es que possu\xedrem uma mensagem"}),"\n",(0,o.jsxs)(s.li,{children:["Ao finalizar, seja com sucesso ou erro, ele ir\xe1 mostrar o comando que ele executou para o arquivo testado:","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.code,{children:"node test/password.test.mjs"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.li,{children:"Quando todos os arquivos de testes terminarem, ele ir\xe1 mostrar um resumo de quantos arquivos passaram e/ou falharam"}),"\n",(0,o.jsxs)(s.li,{children:["No final, o c\xf3digo de sa\xedda ser\xe1:","\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\u2705 ",(0,o.jsx)(s.code,{children:"0"})," para sucesso"]}),"\n",(0,o.jsxs)(s.li,{children:["\u274c ",(0,o.jsx)(s.code,{children:"1"})," para falha"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsx)(s.h2,{id:"-conclus\xe3o",children:"\ud83d\udcad Conclus\xe3o"}),"\n",(0,o.jsxs)(s.p,{children:["Com os ",(0,o.jsx)(s.strong,{children:"testes unit\xe1rios"})," que criamos, n\xf3s garantimos n\xe3o s\xf3 que nossa fun\xe7\xe3o funcione como deveria, como inclusive prevemos como nosso projeto reage em situa\xe7\xf5es at\xedpicas antes que elas aconte\xe7am \ud83d\udd10"]}),"\n",(0,o.jsxs)(s.blockquote,{children:["\n",(0,o.jsxs)(s.p,{children:["Espero ter te provado que ",(0,o.jsx)(s.strong,{children:"testes"})," podem sim (!) ser ",(0,o.jsx)(s.strong,{children:"simples"})," \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93"]}),"\n"]}),"\n",(0,o.jsx)("hr",{}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:['Essa foi minha primeira "aula" em formato de ',(0,o.jsx)(s.em,{children:"blog"}),". Feedbacks s\xe3o sempre bem vindos \ud83e\ude75"]}),"\n",(0,o.jsx)(s.li,{children:"Muitos termos s\xe3o explicados repetidamente em momentos diferentes, isso \xe9 uma escolha did\xe1tica, mas podem falar caso tenha ficado cansativo \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93"}),"\n"]}),"\n",(0,o.jsx)(s.admonition,{type:"info",children:(0,o.jsxs)(s.p,{children:["Esse artigo foi postado icialmente no ",(0,o.jsx)(s.a,{href:"https://www.tabnews.com.br/wellwelwel/tutorial-introduzindo-testes-unitarios-para-devs-iniciantes-js",children:"TabNews"}),"."]})})]})}function b(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(q,{...e})}):q(e)}}}]);