"use strict";(self.webpackChunkweslley_io=self.webpackChunkweslley_io||[]).push([[480],{2924:function(e,s,t){t.r(s),t.d(s,{assets:function(){return d},contentTitle:function(){return l},default:function(){return p},frontMatter:function(){return a},metadata:function(){return n},toc:function(){return c}});var n=t(2030),i=t(4848),r=t(8453),o=t(9672);const a={title:"Introduzindo Testes Unit\xe1rios para Devs Iniciantes",authors:["wellwelwel"],tags:["tests","javascript","beginner"]},l=void 0,d={authorsImageUrls:[void 0]},c=[{value:"\ud83d\udca1 Motiva\xe7\xe3o",id:"-motiva\xe7\xe3o",level:2},{value:"\ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93 Introdu\xe7\xe3o ao Mundo dos Testes",id:"-introdu\xe7\xe3o-ao-mundo-dos-testes",level:2},{value:"\ud83d\udcda Escolhendo o <em>Tester</em>",id:"-escolhendo-o-tester",level:2},{value:"\ud83d\udce6 Instalando nosso <strong><em>Tester</em></strong>",id:"-instalando-nosso-tester",level:3},{value:"\ud83e\uddea Por que &quot;Unit\xe1rios&quot;?",id:"-por-que-unit\xe1rios",level:2},{value:"\ud83d\udccb Criando um Projeto Simples",id:"-criando-um-projeto-simples",level:2},{value:"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udd2c Entendendo os Testes",id:"-entendendo-os-testes",level:2},{value:"\u2611\ufe0f O que s\xe3o Asser\xe7\xf5es?",id:"\ufe0f-o-que-s\xe3o-asser\xe7\xf5es",level:3},{value:"\ud83d\udcdd Exemplo:",id:"-exemplo",level:4},{value:"\ud83d\udcdd Corrigindo nosso exemplo:",id:"-corrigindo-nosso-exemplo",level:4},{value:"\ud83e\uddea Criando os Testes",id:"-criando-os-testes",level:2},{value:"\ud83d\udd2c Verificando se os Testes Passaram",id:"-verificando-se-os-testes-passaram",level:2},{value:"\ud83d\udcad Conclus\xe3o",id:"-conclus\xe3o",level:2}];function h(e){const s={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.k,{tiltMaxAngleX:0,perspective:1920,children:(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Banner",src:t(9261).A+"",width:"1280",height:"720"})})}),"\n",(0,i.jsx)(s.p,{children:"Se voc\xea \xe9 um desenvolvedor iniciante (ou n\xe3o), eu quero te mostrar que testes podem sim ser simples e que a complexidade s\xf3 vem conforme nossa pr\xf3pria necessidade."}),"\n","\n",(0,i.jsx)(s.h2,{id:"-motiva\xe7\xe3o",children:"\ud83d\udca1 Motiva\xe7\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["Se voc\xea \xe9 um desenvolvedor iniciante (",(0,i.jsx)(s.em,{children:"ou n\xe3o"}),"), eu quero te mostrar que testes podem sim ser simples e que a complexidade s\xf3 vem conforme nossa pr\xf3pria necessidade, n\xe3o do ",(0,i.jsx)(s.em,{children:"tester"}),"."]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-introdu\xe7\xe3o-ao-mundo-dos-testes",children:"\ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93 Introdu\xe7\xe3o ao Mundo dos Testes"}),"\n",(0,i.jsxs)(s.p,{children:['Imagine um sistema onde v\xe1rios usu\xe1rios tiveram a conta invadida porque criaram senhas como "',(0,i.jsx)(s.code,{children:"1234"}),'" e o sistema permitia, mesmo tendo uma valida\xe7\xe3o para isso, mas sem garantia nenhuma que essa fun\xe7\xe3o estava realmente funcionando \ud83e\udd72']}),"\n",(0,i.jsx)(s.p,{children:"Isso facilmente seria evitado se existissem testes garantindo que a fun\xe7\xe3o que valida a senha funcionasse como deveria sempre que uma modifica\xe7\xe3o \xe9 feita no sistema, concorda? \ud83d\udd10"}),"\n",(0,i.jsxs)(s.p,{children:["Mas quando um dev iniciante procura por ",(0,i.jsx)(s.strong,{children:"testes automatizados"}),", isso pode parecer (",(0,i.jsxs)(s.em,{children:["ou at\xe9 ",(0,i.jsx)(s.strong,{children:"ser"})]}),") complexo:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Os ",(0,i.jsx)(s.em,{children:(0,i.jsx)(s.strong,{children:"testers"})})," podem exigir configura\xe7\xf5es de ambiente (especialmente quando se trata de ",(0,i.jsx)(s.strong,{children:"ESM"})," e ",(0,i.jsx)(s.strong,{children:"TypeScript"}),")"]}),"\n",(0,i.jsx)(s.li,{children:"Podem mudar o comportamento do ambiente de desenvolvimento"}),"\n",(0,i.jsx)(s.li,{children:"Podem exigir que voc\xea adapte seu c\xf3digo para funcionar com eles"}),"\n",(0,i.jsx)(s.li,{children:"E at\xe9 que voc\xea tenha um conhecimento previamente aprofundado sobre eles (documenta\xe7\xe3o) para simplesmente iniciar"}),"\n"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsxs)(s.h2,{id:"-escolhendo-o-tester",children:["\ud83d\udcda Escolhendo o ",(0,i.jsx)(s.em,{children:"Tester"})]}),"\n",(0,i.jsx)(s.p,{children:"Atualmente, existem muitos testers, alguns focados em boas pr\xe1ticas, outros focados na produtividade, performance e por a\xed vai."}),"\n",(0,i.jsx)(s.p,{children:"Alguns dos mais populares:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Jest"})}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mocha"})," + ",(0,i.jsx)(s.strong,{children:"Chai"})]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Vitest"})}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Para esse tutorial, vamos usar um ",(0,i.jsx)(s.em,{children:"tester"})," que eu criei (",(0,i.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,i.jsx)(s.strong,{children:"Poku"})}),"), devido sua simplicidade, mas voc\xea pode usar qualquer um \ud83d\ude80"]}),"\n",(0,i.jsxs)(s.h3,{id:"-instalando-nosso-tester",children:["\ud83d\udce6 Instalando nosso ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.em,{children:"Tester"})})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npm i -D poku\n"})}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-por-que-unit\xe1rios",children:'\ud83e\uddea Por que "Unit\xe1rios"?'}),"\n",(0,i.jsx)(s.p,{children:"Ao desenvolvermos nossos c\xf3digos, \xe9 comum dividirmos tarefas pequenas em fun\xe7\xf5es menores, ent\xe3o exportamos essas fun\xe7\xf5es para us\xe1-las em v\xe1rios lugares no nosso c\xf3digo, certo?"}),"\n",(0,i.jsxs)(s.p,{children:["Criar os ",(0,i.jsx)(s.strong,{children:"testes unit\xe1rios"})," garante que essas ",(0,i.jsx)(s.em,{children:'"fun\xe7\xf5es unit\xe1rias"'})," sempre funcionem como esperado \ud83e\uddd9\ud83c\udffb"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Se essa postagem for ",(0,i.jsx)(s.strong,{children:"positiva"}),", eu tamb\xe9m gostaria de fazer um tutorial igualmente simples para ",(0,i.jsx)(s.strong,{children:"testes de integra\xe7\xe3o"})," e ",(0,i.jsx)(s.strong,{children:"e2e"}),", focados para desenvolvedores iniciantes \ud83e\udd1d"]}),"\n"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-criando-um-projeto-simples",children:"\ud83d\udccb Criando um Projeto Simples"}),"\n",(0,i.jsx)(s.p,{children:"Vamos elaborar um projeto bem simples, onde iremos apenas validar uma senha.\nNosso projeto precisa validar se a senha passada:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u2705 \xc9 uma string"}),"\n",(0,i.jsx)(s.li,{children:"\u2705 Possui ao menos oito caract\xe9res"}),"\n",(0,i.jsx)(s.li,{children:"\u2705 Possui ao menos uma letra mai\xfascula"}),"\n",(0,i.jsx)(s.li,{children:"\u2705 Possui ao menos uma letra min\xfascula"}),"\n",(0,i.jsx)(s.li,{children:"\u2705 Possui ao menos um n\xfamero"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Se a senha for v\xe1lida, devemos retornar ",(0,i.jsx)(s.code,{children:"true"}),", caso contr\xe1rio, ",(0,i.jsx)(s.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Para isso, iremos criar o arquivo:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"src/validations.mjs"})}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"export const validatePassword = (password) => {\n  // Verifica se a senha \xe9 uma string\n  if (typeof password !== 'string') return false;\n\n  // Verifica se a senha possui 8 caract\xe9res ou mais\n  if (password.trim().length < 8) return false;\n\n  // Verifica se a senha possui ao menos uma letra mai\xfascula\n  if (!/[A-Z]/.test(password)) return false;\n\n  // Verifica se a senha possui ao menos uma letra min\xfascula\n  if (!/[a-z]/.test(password)) return false;\n\n  // Verifica se a senha possui ao menos um n\xfamero\n  if (!/[0-9]/.test(password)) return false;\n\n  // Retorna verdadeiro se todas as valida\xe7\xf5es acima passarem\n  return true;\n};\n"})}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Visando manter o exemplo simples, n\xe3o vamos ir muito al\xe9m disso \ud83e\uddd9\ud83c\udffb"}),"\n"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"N\xe3o use essa fun\xe7\xe3o para c\xf3digos reais, o intuito \xe9 ser simples para focar no apredizado \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93"}),"\n",(0,i.jsxs)(s.li,{children:["Voc\xea pode trocar de ",(0,i.jsx)(s.strong,{children:"src/validations.mjs"})," para ",(0,i.jsx)(s.strong,{children:"src/validations.js"})," usando o ",(0,i.jsx)(s.code,{children:'"type": "module"'})," no seu arquivo ",(0,i.jsx)(s.strong,{children:"package.json"})," \ud83e\uddd9\ud83c\udffb"]}),"\n"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-entendendo-os-testes",children:"\ud83e\uddd1\ud83c\udffb\u200d\ud83d\udd2c Entendendo os Testes"}),"\n",(0,i.jsxs)(s.p,{children:["Teoricamente, nossa fun\xe7\xe3o do projeto j\xe1 funciona, esse \xe9 o momento que a gente come\xe7a fazer v\xe1rios ",(0,i.jsx)(s.code,{children:"console.log"}),", certo? ",(0,i.jsx)(s.strong,{children:"Nada disso"})," \ud83d\ude02"]}),"\n",(0,i.jsxs)(s.p,{children:["Vamos tornar o que seriam esses ",(0,i.jsx)(s.em,{children:'"console logs"'}),", em testes automatizados que sempre ser\xe3o executados quando o projeto passar por uma altera\xe7\xe3o \ud83d\ude80"]}),"\n",(0,i.jsx)(s.p,{children:"Como? Usando asser\xe7\xf5es \ud83d\udc47\ud83c\udffb"}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h3,{id:"\ufe0f-o-que-s\xe3o-asser\xe7\xf5es",children:"\u2611\ufe0f O que s\xe3o Asser\xe7\xf5es?"}),"\n",(0,i.jsxs)(s.p,{children:["Nos testes, ",(0,i.jsx)(s.strong,{children:"asser\xe7\xf5es"})," s\xe3o usadas para garantir que um resultado \xe9 realmente o que a gente espera."]}),"\n",(0,i.jsxs)(s.p,{children:["Cada ",(0,i.jsx)(s.em,{children:"tester"})," pode ter uma forma diferente de fazer isso, mas o final costuma ser o mesmo:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Se nossa verifica\xe7\xe3o (asser\xe7\xe3o) n\xe3o for exatamente como o esperado, o teste ir\xe1 disparar um erro nessa asser\xe7\xe3o."}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"-exemplo",children:"\ud83d\udcdd Exemplo:"}),"\n",(0,i.jsxs)(s.p,{children:["Imagine que ",(0,i.jsx)(s.code,{children:"1 + 1"})," precisa retornar ",(0,i.jsx)(s.code,{children:"2"}),", mas retornou ",(0,i.jsx)(s.code,{children:'"11"'}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Quando chegar na asser\xe7\xe3o que espera o resultado ",(0,i.jsx)(s.code,{children:"2"}),", ela ir\xe1 disparar um erro no teste dizendo que esperava ",(0,i.jsx)(s.code,{children:"2"})," (n\xfamero), mas recebeu ",(0,i.jsx)(s.code,{children:'"11"'})," (",(0,i.jsx)(s.em,{children:"string"}),"):"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import { assert } from 'poku';\n\nassert.strictEqual('1' + '1', 2, '1+1 deve retornar 2');\n"})}),"\n",(0,i.jsx)("img",{loading:"lazy",width:"474",alt:"Erro de asser\xe7\xe3o",src:"https://github.com/wellwelwel/poku/assets/46850407/f1dc1e18-7f9b-4ccb-880c-b0845464925f"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"actual"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:'"11"'})," \u2014 \xc9 o retorno din\xe2mico (",(0,i.jsx)(s.em,{children:"soft code"}),") da nossa fun\xe7\xe3o ou vari\xe1vel"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"expected"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.em,{children:"2"})," \u2014 \xe9 o valor bruto (",(0,i.jsx)(s.em,{children:"hard code"}),") que deve ser retornado pelo ",(0,i.jsx)(s.code,{children:"actual"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Tanto o ",(0,i.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,i.jsx)(s.strong,{children:"Poku"})})," como o pr\xf3prio ",(0,i.jsx)(s.strong,{children:"Node.js"})," possuem o m\xe9todo ",(0,i.jsx)(s.code,{children:"assert"})," com a forma de uso exatamente iguais \ud83e\uddd9\ud83c\udffb"]}),"\n",(0,i.jsxs)(s.p,{children:["Quanto ao funcionamento, o ",(0,i.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,i.jsx)(s.strong,{children:"Poku"})})," oferece uma forma simples e inteligente de executar m\xfaltiplos arquivos e descreve todas as asser\xe7\xf5es que passaram ou n\xe3o no terminal \ud83d\udc37"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"-corrigindo-nosso-exemplo",children:"\ud83d\udcdd Corrigindo nosso exemplo:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import { assert } from 'poku';\n\nassert.strictEqual(1 + 1, 2, '1+1 deve retornar 2');\n"})}),"\n",(0,i.jsx)("img",{loading:"lazy",width:"474",alt:"Asser\xe7\xe3o com sucesso",src:"https://github.com/wellwelwel/poku/assets/46850407/430a72eb-8d34-45f4-abc7-2f2f92e3dd8e"}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-criando-os-testes",children:"\ud83e\uddea Criando os Testes"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Finalmente a parte boa \ud83c\udf89"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Para isso, vamos usar a criatividade e gerar:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u274c V\xe1rias senhas inv\xe1lidas para simular o comportamento tanto de usu\xe1rios usuais, como de usu\xe1rios mal intencionados","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Nas senhas inv\xe1lidas, n\xf3s esperamos (",(0,i.jsx)(s.code,{children:"expected"}),") que o resultado (",(0,i.jsx)(s.code,{children:"actual"}),") seja ",(0,i.jsx)(s.code,{children:"false"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\u2705 Senhas v\xe1lidas para garantir que nossa fun\xe7\xe3o entende que a senha deve ser v\xe1lida quando passar por todos os crit\xe9rios","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Nas senhas v\xe1lidas, n\xf3s esperamos (",(0,i.jsx)(s.code,{children:"expected"}),") que o resultado (",(0,i.jsx)(s.code,{children:"actual"}),") seja ",(0,i.jsx)(s.code,{children:"true"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\ud83d\udcdd Nada de coment\xe1rios no teste, vamos descrever o que \xe9 cada um na pr\xf3pria asser\xe7\xe3o (",(0,i.jsx)(s.code,{children:"message"}),")"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Vamos criar nosso arquivo de teste:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"test/password.test.mjs"})}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"import { assert } from 'poku';\nimport { validatePassword } from '../src/validations.mjs';\n\nassert.strictEqual(\n  validatePassword(),\n  false,\n  'Valida se a senha n\xe3o for passada'\n);\n\nassert.strictEqual(\n  validatePassword(12345678),\n  false,\n  'Valida se a senha n\xe3o for uma string'\n);\n\nassert.strictEqual(\n  validatePassword(''),\n  false,\n  'Valida se a senha for uma string vazia'\n);\n\nassert.strictEqual(\n  validatePassword('abcd1234'),\n  false,\n  'Valida se a senha n\xe3o possuir ao menos uma letra mai\xfascula'\n);\n\nassert.strictEqual(\n  validatePassword('1234EFGH'),\n  false,\n  'Valida se a senha n\xe3o possuir ao menos uma letra min\xfascula'\n);\n\nassert.strictEqual(\n  validatePassword('abcdEFGH'),\n  false,\n  'Valida se a senha n\xe3o possuir ao menos um n\xfamero'\n);\n\nassert.strictEqual(\n  validatePassword('abcdEF12'),\n  true,\n  'Valida se a senha for v\xe1lida'\n);\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Voc\xea pode trocar de ",(0,i.jsx)(s.strong,{children:"test/password.test.mjs"})," para ",(0,i.jsx)(s.strong,{children:"test/password.test.js"})," usando o ",(0,i.jsx)(s.code,{children:'"type": "module"'})," no seu arquivo ",(0,i.jsx)(s.strong,{children:"package.json"})," \ud83e\uddd9\ud83c\udffb"]}),"\n"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-verificando-se-os-testes-passaram",children:"\ud83d\udd2c Verificando se os Testes Passaram"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npx poku\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Ao executar o comando ",(0,i.jsx)(s.code,{children:"npx poku"}),", por padr\xe3o, o ",(0,i.jsx)(s.em,{children:"tester"})," ir\xe1 procurar por todos os arquivos com a exten\xe7\xe3o ",(0,i.jsx)(s.code,{children:"*.test.*"})," ou ",(0,i.jsx)(s.code,{children:"*.spec.*"})," no diret\xf3rio em que o comando foi executado \ud83e\uddd9\ud83c\udffb"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"E finalmente, nosso resultado:"}),"\n",(0,i.jsx)("img",{loading:"lazy",width:"522",alt:"Exemplo de Sucesso com o Poku",src:"https://github.com/wellwelwel/poku/assets/46850407/f06105a3-f956-473f-b456-26c1e27d80db"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["A primeira sa\xedda mostra em qual diret\xf3rio o ",(0,i.jsx)(s.a,{href:"https://github.com/wellwelwel/poku",children:(0,i.jsx)(s.strong,{children:"Poku"})})," est\xe1 procurando por testes"]}),"\n",(0,i.jsxs)(s.li,{children:["A segunda sa\xedda mostra o arquivo que est\xe1 sendo testado no momento","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Dentro de cada arquivo de teste, ele ir\xe1 mostrar todas as asser\xe7\xf5es que possu\xedrem uma mensagem"}),"\n",(0,i.jsxs)(s.li,{children:["Ao finalizar, seja com sucesso ou erro, ele ir\xe1 mostrar o comando que ele executou para o arquivo testado:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"node test/password.test.mjs"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Quando todos os arquivos de testes terminarem, ele ir\xe1 mostrar um resumo de quantos arquivos passaram e/ou falharam"}),"\n",(0,i.jsxs)(s.li,{children:["No final, o c\xf3digo de sa\xedda ser\xe1:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\u2705 ",(0,i.jsx)(s.code,{children:"0"})," para sucesso"]}),"\n",(0,i.jsxs)(s.li,{children:["\u274c ",(0,i.jsx)(s.code,{children:"1"})," para falha"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsx)(s.h2,{id:"-conclus\xe3o",children:"\ud83d\udcad Conclus\xe3o"}),"\n",(0,i.jsxs)(s.p,{children:["Com os ",(0,i.jsx)(s.strong,{children:"testes unit\xe1rios"})," que criamos, n\xf3s garantimos n\xe3o s\xf3 que nossa fun\xe7\xe3o funcione como deveria, como inclusive prevemos como nosso projeto reage em situa\xe7\xf5es at\xedpicas antes que elas aconte\xe7am \ud83d\udd10"]}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:["Espero ter te provado que ",(0,i.jsx)(s.strong,{children:"testes"})," podem sim (!) ser ",(0,i.jsx)(s.strong,{children:"simples"})," \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93"]}),"\n"]}),"\n",(0,i.jsx)("hr",{}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:['Essa foi minha primeira "aula" em formato de ',(0,i.jsx)(s.em,{children:"blog"}),". Feedbacks s\xe3o sempre bem vindos \ud83e\ude75"]}),"\n",(0,i.jsx)(s.li,{children:"Muitos termos s\xe3o explicados repetidamente em momentos diferentes, isso \xe9 uma escolha did\xe1tica, mas podem falar caso tenha ficado cansativo \ud83e\uddd1\ud83c\udffb\u200d\ud83c\udf93"}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"info",children:(0,i.jsxs)(s.p,{children:["Esse artigo foi postado icialmente no ",(0,i.jsx)(s.a,{href:"https://www.tabnews.com.br/wellwelwel/tutorial-introduzindo-testes-unitarios-para-devs-iniciantes-js",children:"TabNews"}),"."]})})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9672:function(e,s,t){t.d(s,{k:function(){return a}});var n=t(8587),i=t(7338),r=t(4848),o=["children"],a=function(e){var s=e.children,t=(0,n.A)(e,o);return(0,r.jsx)(i.A,Object.assign({tiltMaxAngleX:7.5,tiltMaxAngleY:7.5,perspective:500,transitionSpeed:750,glareEnable:!1,tiltReverse:!0},t,{children:s}))}},9261:function(e,s,t){s.A=t.p+"assets/images/banner-7ac2c9b37e32ceb4564bb18ee069f67b.png"},8453:function(e,s,t){t.d(s,{R:function(){return o},x:function(){return a}});var n=t(6540);const i={},r=n.createContext(i);function o(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:s},e.children)}},7338:function(e,s,t){t.d(s,{A:function(){return c}});var n=t(4848),i=t(6540);const r=(e,s,t,n)=>{e.style.transition=`${s} ${t}ms ${n}`},o=(e,s,t)=>Math.min(Math.max(e,s),t);class a{constructor(e,s){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=e=>{const{width:s,height:t}=e,n=Math.sqrt(s**2+t**2);return{width:n,height:n}},this.setSize=e=>{const s=this.calculateGlareSize(e);this.glareEl.style.width=`${s.width}px`,this.glareEl.style.height=`${s.height}px`},this.update=(e,s,t,n)=>{this.updateAngle(e,s.glareReverse),this.updateOpacity(e,s,t,n)},this.updateAngle=(e,s)=>{const{xPercentage:t,yPercentage:n}=e,i=180/Math.PI,r=t?Math.atan2(n,-t)*i:0;this.glareAngle=r-(s?180:0)},this.updateOpacity=(e,s,t,n)=>{const{xPercentage:i,yPercentage:r}=e,{glarePosition:a,glareReverse:l,glareMaxOpacity:d}=s,c=t?-1:1,h=n?-1:1,p=l?-1:1;let u=0;switch(a){case"top":u=-i*c*p;break;case"right":u=r*h*p;break;case"bottom":case void 0:u=i*c*p;break;case"left":u=-r*h*p;break;case"all":u=Math.hypot(i,r)}const m=o(u,0,100);this.glareOpacity=m*d/100},this.render=e=>{const{glareColor:s}=e;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${s} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const t={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:s,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},n=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${n.width}px`,height:`${n.height}px`};Object.assign(this.glareWrapperEl.style,t),Object.assign(this.glareEl.style,i)}}class l{constructor(){this.glareAngle=0,this.glareOpacity=0,this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,s)=>{this.updateTilt(e,s),this.updateTiltManualInput(e,s),this.updateTiltReverse(s),this.updateTiltLimits(s)},this.updateTilt=(e,s)=>{const{xPercentage:t,yPercentage:n}=e,{tiltMaxAngleX:i,tiltMaxAngleY:r}=s;this.tiltAngleX=t*i/100,this.tiltAngleY=n*r/100*-1},this.updateTiltManualInput=(e,s)=>{const{tiltAngleXManual:t,tiltAngleYManual:n,tiltMaxAngleX:i,tiltMaxAngleY:r}=s;(null!==t||null!==n)&&(this.tiltAngleX=null!==t?t:0,this.tiltAngleY=null!==n?n:0,e.xPercentage=100*this.tiltAngleX/i,e.yPercentage=100*this.tiltAngleY/r)},this.updateTiltReverse=e=>{const s=e.tiltReverse?-1:1;this.tiltAngleX=s*this.tiltAngleX,this.tiltAngleY=s*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:s}=e;this.tiltAngleX=o(this.tiltAngleX,-90,90),this.tiltAngleY=o(this.tiltAngleY,-90,90),s&&(this.tiltAngleX="x"===s?this.tiltAngleX:0,this.tiltAngleY="y"===s?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:s,tiltMaxAngleY:t}=e;this.tiltAngleXPercentage=this.tiltAngleX/s*100,this.tiltAngleYPercentage=this.tiltAngleY/t*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const d={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class c extends i.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;"function"==typeof e?"granted"===await e()&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:s}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),s&&s({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:s}=this.props;if(this.setTransitions(),s&&s({event:e}),this.props.reset){const e=new CustomEvent("autoreset");this.onMove(e)}},this.processInput=e=>{const{scale:s}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=s;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=s;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=s;break;case"autoreset":{const{tiltAngleXInitial:e,tiltAngleYInitial:s,tiltMaxAngleX:t,tiltMaxAngleY:n}=this.props,i=s/n*100;this.wrapperEl.clientPosition.xPercentage=o(e/t*100,-100,100),this.wrapperEl.clientPosition.yPercentage=o(i,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:s,tiltMaxAngleY:t}=this.props,n=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/s*100,this.wrapperEl.clientPosition.yPercentage=n/t*100,this.wrapperEl.clientPosition.xPercentage=o(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=o(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:s,flipVertically:t,flipHorizontally:n}=this.props;"autoreset"!==e&&"deviceorientation"!==e&&"propChange"!==e&&this.updateClientInput(),s&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,t,n)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let s,t;if(e){const{x:e,y:n}=this.wrapperEl.clientPosition;s=n/window.innerHeight*200-100,t=e/window.innerWidth*200-100}else{const{size:{width:e,height:n,left:i,top:r},clientPosition:{x:o,y:a}}=this.wrapperEl;s=(a-r)/n*200-100,t=(o-i)/e*200-100}this.wrapperEl.clientPosition.xPercentage=o(s,-100,100),this.wrapperEl.clientPosition.yPercentage=o(t,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:s}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),s&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new l,this.initGlare(),this.addEventListeners(),"undefined"==typeof CustomEvent)return;const e=new CustomEvent("autoreset");this.mainLoop(e);const s=new CustomEvent("initial");this.emitOnMove(s)}componentWillUnmount(){null!==this.wrapperEl.updateAnimationId&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:s}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),s&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:s}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),s&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:s}=this.props;e&&(this.glare=new a(this.wrapperEl.size,s),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:s}=this.props;if(!s)return;let t=0,n=0;this.glare&&(t=this.glare.glareAngle,n=this.glare.glareOpacity),s({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:t,glareOpacity:n,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:s}=this.props;r(this.wrapperEl.node,"all",e,s),this.glare&&r(this.glare.glareEl,"opacity",e,s)}render(){const{children:e,className:s,style:t}=this.props;return(0,n.jsx)("div",{ref:e=>{this.wrapperEl.node=e},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:s,style:t,children:e})}}c.defaultProps=d},2030:function(e){e.exports=JSON.parse('{"permalink":"/articles/2024/03/22/tutorial-introduzindo-testes-unitarios-para-devs-iniciantes","source":"@site/content/articles/2024/03/22/tutorial-introduzindo-testes-unitarios-para-devs-iniciantes/index.mdx","title":"Introduzindo Testes Unit\xe1rios para Devs Iniciantes","description":"Banner","date":"2024-03-22T00:00:00.000Z","tags":[{"inline":false,"label":"Testes","permalink":"/articles/tags/tests","description":"Tests tag description"},{"inline":false,"label":"JavaScript","permalink":"/articles/tags/javascript","description":"JavaScript tag description"},{"inline":false,"label":"Iniciante","permalink":"/articles/tags/beginner","description":"Beginner tag description"}],"readingTime":6.855,"hasTruncateMarker":true,"authors":[{"name":"Weslley Ara\xfajo","title":"Desenvolvedor ativo no ecossistema open-source, comantenedor do MySQL2 e criador do Poku \u2728","url":"/","socials":{"linkedin":"https://www.linkedin.com/in/wellwelwel/","github":"https://github.com/wellwelwel","instagram":"https://www.instagram.com/wellwelwel","youtube":"https://youtube.com/@weslleyio"},"imageURL":"/img/avatar.png","key":"wellwelwel","page":null}],"frontMatter":{"title":"Introduzindo Testes Unit\xe1rios para Devs Iniciantes","authors":["wellwelwel"],"tags":["tests","javascript","beginner"]},"unlisted":false,"lastUpdatedAt":1736866333000,"prevItem":{"title":"Prevenindo o envio de emails maliciosos atrav\xe9s do seu dom\xednio","permalink":"/articles/2024/11/18/e-mail-spoofing-prevenindo-o-envio-de-emails-atraves-do-seu-dominio"}}')}}]);